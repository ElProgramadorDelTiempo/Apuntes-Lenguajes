Guía Completa para Ver Claves WiFi Guardadas en Windows
Métodos para Ver Contraseñas WiFi Guardadas
1. Usando netsh (Comando Original Mejorado)
cmd
# Mostrar todos los perfiles WiFi guardados
netsh wlan show profiles

# Mostrar información detallada de un perfil específico
netsh wlan show profile name="NOMBRE-DE-LA-RED" key=clear

# Exportar todas las claves a un archivo de texto
netsh wlan show profiles | findstr ":" > perfiles.txt
for /f "tokens=2 delims=:" %i in (perfiles.txt) do (
    set "red=%~i"
    set "red=!red:~1!"
    netsh wlan show profile name="!red!" key=clear >> claves_wifi.txt
)

# Ver solo la clave de una red específica
netsh wlan show profile name="MiCasa" key=clear | findstr "Contenido"
2. Script Batch Automatizado
batch
@echo off
chcp 65001 > nul
setlocal enabledelayedexpansion

echo ================================================
echo    EXTRACTOR DE CLAVES WIFI - WINDOWS
echo ================================================
echo.

REM Verificar privilegios de administrador
net session >nul 2>&1
if %errorLevel% neq 0 (
    echo [ERROR] Ejecuta como Administrador
    echo Presiona cualquier tecla para salir...
    pause >nul
    exit /b 1
)

echo [✓] Ejecutando como administrador
echo.

REM Crear carpeta para resultados
set "FECHA=%date:/=-%_%time::=-%"
set "FECHA=%FECHA: =_%"
set "CARPETA=Wifi_Keys_%FECHA%"
mkdir "%CARPETA%" 2>nul

REM Archivos de salida
set "TODAS=%CARPETA%\todas_las_redes.txt"
set "RESUMEN=%CARPETA%\resumen_claves.txt"

echo [i] Buscando perfiles WiFi guardados...
echo.

REM Obtener lista de perfiles
netsh wlan show profiles > "%TODAS%"

REM Extraer nombres de redes
set "contador=0"
echo REDES WIFI ENCONTRADAS: > "%RESUMEN%"
echo ======================= >> "%RESUMEN%"
echo. >> "%RESUMEN%"

for /f "tokens=2 delims=:" %%i in ('netsh wlan show profiles ^| findstr ":"') do (
    set "red=%%i"
    set "red=!red:~1!"
    
    if not "!red!"=="" (
        set /a contador+=1
        echo [!contador!] !red!
        echo [!contador!] !red! >> "%RESUMEN%"
        
        REM Crear archivo individual para cada red
        set "archivo=%CARPETA%\!contador!_!red!.txt"
        echo [!contador!] !red! > "!archivo!"
        echo ================ >> "!archivo!"
        
        REM Obtener información detallada
        netsh wlan show profile name="!red!" key=clear >> "!archivo!" 2>nul
        
        REM Extraer solo la clave
        for /f "tokens=3" %%k in ('netsh wlan show profile name^="!red!" key^=clear ^| findstr "Contenido"') do (
            set "clave=%%k"
            echo Clave: !clave! >> "!archivo!"
            echo Clave: !clave! >> "%RESUMEN%"
        )
        
        echo. >> "!archivo!"
        echo. >> "%RESUMEN%"
    )
)

echo.
echo [✓] Proceso completado
echo [✓] Redes encontradas: %contador%
echo [✓] Resultados guardados en: %CARPETA%
echo.

REM Mostrar resumen
type "%RESUMEN%"

echo.
echo Presiona cualquier tecla para abrir la carpeta...
pause >nul
start "" "%CARPETA%"
3. Usando PowerShell (Método Avanzado)
powershell
# Método 1: Usando netsh desde PowerShell
$perfiles = netsh wlan show profiles | Select-String ":\s+(.+)$" | ForEach-Object {$_.Matches.Groups[1].Value.Trim()}

foreach ($perfil in $perfiles) {
    $info = netsh wlan show profile name="$perfil" key=clear
    $clave = ($info | Select-String "Contenido de la clave\s+:\s+(.+)").Matches.Groups[1].Value
    [PSCustomObject]@{
        Red = $perfil
        Clave = $clave
    }
}

# Método 2: Usando WLAN API de Windows (Windows 8+)
function Get-WifiPasswords {
    [CmdletBinding()]
    param(
        [Parameter(Position=0)]
        [string]$ProfileName = "*"
    )
    
    # Requiere ejecución como administrador
    if (-NOT ([Security.Principal.WindowsPrincipal] [Security.Principal.WindowsIdentity]::GetCurrent()).IsInRole([Security.Principal.WindowsBuiltInRole] "Administrator")) {
        Write-Error "Este comando requiere privilegios de administrador"
        return
    }
    
    # Obtener perfiles WiFi
    $profiles = netsh wlan show profiles | Select-String ":\s+(.+)$" | ForEach-Object {$_.Matches.Groups[1].Value.Trim()} | Where-Object {$_ -like $ProfileName}
    
    $results = @()
    
    foreach ($profile in $profiles) {
        try {
            $xml = netsh wlan export profile name="$profile" key=clear folder="$env:TEMP" 2>$null
            $xmlFile = Get-ChildItem "$env:TEMP\Wi-Fi-$profile.xml" -ErrorAction SilentlyContinue
            
            if ($xmlFile) {
                $xmlContent = [xml](Get-Content $xmlFile.FullName)
                $keyMaterial = $xmlContent.WLANProfile.MSM.Security.sharedKey.keyMaterial
                
                $result = [PSCustomObject]@{
                    NombreRed = $profile
                    Contraseña = $keyMaterial
                    Autenticación = $xmlContent.WLANProfile.MSM.Security.authEncryption.authentication
                    Cifrado = $xmlContent.WLANProfile.MSM.Security.authEncryption.encryption
                    FechaExportación = Get-Date -Format "yyyy-MM-dd HH:mm:ss"
                }
                
                $results += $result
                
                # Eliminar archivo temporal
                Remove-Item $xmlFile.FullName -Force
            }
        }
        catch {
            Write-Warning "Error al procesar el perfil '$profile': $_"
        }
    }
    
    return $results
}

# Uso de la función
Get-WifiPasswords | Format-Table -AutoSize
Get-WifiPasswords -ProfileName "MiCasa" | Format-List
Get-WifiPasswords | Export-Csv -Path "wifi_passwords.csv" -NoTypeInformation -Encoding UTF8
4. Script PowerShell Completo con Interfaz Gráfica
powershell
Add-Type -AssemblyName System.Windows.Forms
Add-Type -AssemblyName System.Drawing

# Crear formulario
$form = New-Object System.Windows.Forms.Form
$form.Text = "Extractor de Claves WiFi"
$form.Size = New-Object System.Drawing.Size(600,500)
$form.StartPosition = "CenterScreen"

# Etiqueta título
$label = New-Object System.Windows.Forms.Label
$label.Location = New-Object System.Drawing.Point(10,10)
$label.Size = New-Object System.Drawing.Size(560,30)
$label.Text = "REDES WIFI GUARDADAS EN EL SISTEMA"
$label.Font = New-Object System.Drawing.Font("Arial",12,[System.Drawing.FontStyle]::Bold)
$label.TextAlign = "MiddleCenter"
$form.Controls.Add($label)

# ListBox para mostrar redes
$listBox = New-Object System.Windows.Forms.ListBox
$listBox.Location = New-Object System.Drawing.Point(10,50)
$listBox.Size = New-Object System.Drawing.Size(560,300)
$listBox.Font = New-Object System.Drawing.Font("Consolas",10)
$form.Controls.Add($listBox)

# Botón para cargar redes
$btnCargar = New-Object System.Windows.Forms.Button
$btnCargar.Location = New-Object System.Drawing.Point(10,360)
$btnCargar.Size = New-Object System.Drawing.Size(100,30)
$btnCargar.Text = "Cargar Redes"
$btnCargar.Add_Click({
    $listBox.Items.Clear()
    $perfiles = netsh wlan show profiles | Select-String ":\s+(.+)$" | ForEach-Object {$_.Matches.Groups[1].Value.Trim()}
    foreach ($perfil in $perfiles) {
        $listBox.Items.Add($perfil)
    }
})
$form.Controls.Add($btnCargar)

# Botón para mostrar clave
$btnMostrar = New-Object System.Windows.Forms.Button
$btnMostrar.Location = New-Object System.Drawing.Point(120,360)
$btnMostrar.Size = New-Object System.Drawing.Size(100,30)
$btnMostrar.Text = "Mostrar Clave"
$btnMostrar.Add_Click({
    if ($listBox.SelectedItem) {
        $red = $listBox.SelectedItem.ToString()
        $info = netsh wlan show profile name="$red" key=clear
        $clave = ($info | Select-String "Contenido de la clave\s+:\s+(.+)").Matches.Groups[1].Value
        
        [System.Windows.Forms.MessageBox]::Show(
            "Red: $red`nClave: $clave",
            "Contraseña WiFi",
            [System.Windows.Forms.MessageBoxButtons]::OK,
            [System.Windows.Forms.MessageBoxIcon]::Information
        )
    }
})
$form.Controls.Add($btnMostrar)

# Botón para exportar todas
$btnExportar = New-Object System.Windows.Forms.Button
$btnExportar.Location = New-Object System.Drawing.Point(230,360)
$btnExportar.Size = New-Object System.Drawing.Size(100,30)
$btnExportar.Text = "Exportar Todas"
$btnExportar.Add_Click({
    $saveDialog = New-Object System.Windows.Forms.SaveFileDialog
    $saveDialog.Filter = "Archivo de texto (*.txt)|*.txt|Archivo CSV (*.csv)|*.csv"
    $saveDialog.FileName = "wifi_passwords_$(Get-Date -Format 'yyyyMMdd_HHmmss')"
    
    if ($saveDialog.ShowDialog() -eq [System.Windows.Forms.DialogResult]::OK) {
        $resultados = @()
        $perfiles = netsh wlan show profiles | Select-String ":\s+(.+)$" | ForEach-Object {$_.Matches.Groups[1].Value.Trim()}
        
        foreach ($perfil in $perfiles) {
            $info = netsh wlan show profile name="$perfil" key=clear
            $clave = ($info | Select-String "Contenido de la clave\s+:\s+(.+)").Matches.Groups[1].Value
            $resultados += [PSCustomObject]@{
                Red = $perfil
                Contraseña = $clave
                Fecha = Get-Date -Format "yyyy-MM-dd HH:mm:ss"
            }
        }
        
        if ($saveDialog.FilterIndex -eq 2) {
            $resultados | Export-Csv -Path $saveDialog.FileName -NoTypeInformation -Encoding UTF8
        } else {
            $resultados | Format-Table -AutoSize | Out-File -FilePath $saveDialog.FileName -Encoding UTF8
        }
        
        [System.Windows.Forms.MessageBox]::Show(
            "Datos exportados exitosamente a:`n$($saveDialog.FileName)",
            "Exportación Completada",
            [System.Windows.Forms.MessageBoxButtons]::OK,
            [System.Windows.Forms.MessageBoxIcon]::Information
        )
    }
})
$form.Controls.Add($btnExportar)

# Mostrar formulario
$form.ShowDialog()
5. Método Usando PowerShell One-Liner
powershell
# Mostrar todas las claves WiFi en una línea
(netsh wlan show profiles) | Select-String "\:(.+)$" | %{$name=$_.Matches.Groups[1].Value.Trim(); $_} | %{(netsh wlan show profile name="$name" key=clear)} | Select-String "Contenido de la clave\s+\:\s+(.+)$" | %{$pass=$_.Matches.Groups[1].Value.Trim(); $_} | %{[PSCustomObject]@{ WiFi=$name; PASS=$pass }} | Format-Table -AutoSize

# Versión más legible:
$perfiles = (netsh wlan show profiles) | Select-String "\:(.+)$" | ForEach-Object {$_.Matches.Groups[1].Value.Trim()}
foreach ($perfil in $perfiles) {
    $clave = ((netsh wlan show profile name="$perfil" key=clear) | Select-String "Contenido de la clave\s+\:\s+(.+)$").Matches.Groups[1].Value.Trim()
    Write-Host "Red: $perfil" -ForegroundColor Cyan
    Write-Host "Clave: $clave" -ForegroundColor Green
    Write-Host ("-" * 40)
}
6. Método con Exportación a Archivos XML
cmd
# Exportar todos los perfiles WiFi a archivos XML
mkdir %TEMP%\wifi_profiles
cd %TEMP%\wifi_profiles
netsh wlan export profile key=clear

# Las claves estarán en los archivos XML como <keyMaterial>
# Para ver todas las claves:
findstr /i keyMaterial *.xml

# Script para extraer todas las claves de los XML
@echo off
setlocal enabledelayedexpansion

mkdir %TEMP%\wifi_export
cd %TEMP%\wifi_export

echo Exportando perfiles WiFi...
netsh wlan export profile key=clear

echo.
echo ====================================
echo CONTENIDO DE LOS ARCHIVOS XML:
echo ====================================
echo.

for %%f in (*.xml) do (
    echo Archivo: %%f
    echo ------------------------------
    
    for /f "tokens=2 delims=><" %%a in ('type "%%f" ^| findstr "keyMaterial"') do (
        echo Clave: %%a
    )
    
    for /f "tokens=2 delims=><" %%b in ('type "%%f" ^| findstr "name"') do (
        echo Red: %%b
    )
    
    echo.
)
7. Script para Backup y Restauración de Perfiles WiFi
batch
@echo off
title Backup y Restauración de Perfiles WiFi
setlocal enabledelayedexpansion

:menu
cls
echo ============================================
echo    GESTOR DE PERFILES WIFI - WINDOWS
echo ============================================
echo.
echo 1. Backup de todos los perfiles WiFi
echo 2. Restaurar perfiles WiFi desde backup
echo 3. Ver claves WiFi guardadas
echo 4. Exportar claves a archivo seguro
echo 5. Salir
echo.
set /p opcion="Seleccione una opción: "

if "%opcion%"=="1" goto backup
if "%opcion%"=="2" goto restore
if "%opcion%"=="3" goto show
if "%opcion%"=="4" goto export
if "%opcion%"=="5" exit

:backup
cls
echo [BACKUP DE PERFILES WIFI]
echo.
set /p carpeta="Carpeta de destino [backup_wifi]: "
if "%carpeta%"=="" set carpeta=backup_wifi

mkdir "%carpeta%" 2>nul
echo Exportando perfiles...
netsh wlan export profile folder="%carpeta%" key=clear

echo.
echo [✓] Backup completado en: %cd%\%carpeta%
echo Presione cualquier tecla para continuar...
pause >nul
goto menu

:restore
cls
echo [RESTAURAR PERFILES WIFI]
echo.
set /p carpeta="Carpeta con archivos XML: "
if not exist "%carpeta%\*.xml" (
    echo [ERROR] No se encontraron archivos XML
    pause
    goto menu
)

echo Importando perfiles...
for %%f in ("%carpeta%\*.xml") do (
    echo Restaurando: %%~nf
    netsh wlan add profile filename="%%f" user=current
)

echo.
echo [✓] Restauración completada
pause
goto menu

:show
cls
echo [CLAVES WIFI GUARDADAS]
echo.
netsh wlan show profiles | findstr ":"
echo.
set /p red="Nombre de red (Enter para todas): "
if "%red%"=="" (
    for /f "tokens=2 delims=:" %%i in ('netsh wlan show profiles ^| findstr ":"') do (
        set "nombre=%%i"
        set "nombre=!nombre:~1!"
        call :mostrar_clave "!nombre!"
    )
) else (
    call :mostrar_clave "%red%"
)
echo.
pause
goto menu

:mostrar_clave
netsh wlan show profile name=%~1 key=clear | findstr "Contenido"
goto :eof

:export
cls
echo [EXPORTAR CLAVES SEGURO]
echo.
set /p archivo="Nombre del archivo [wifi_secure.txt]: "
if "%archivo%"=="" set archivo=wifi_secure.txt

(
    echo ============================================
    echo    CLAVES WIFI - %date% %time%
    echo ============================================
    echo.
) > "%archivo%"

for /f "tokens=2 delims=:" %%i in ('netsh wlan show profiles ^| findstr ":"') do (
    set "red=%%i"
    set "red=!red:~1!"
    for /f "tokens=3" %%k in ('netsh wlan show profile name^="!red!" key^=clear ^| findstr "Contenido"') do (
        echo Red: !red! >> "%archivo%"
        echo Clave: %%k >> "%archivo%"
        echo. >> "%archivo%"
    )
)

echo [✓] Claves exportadas a: %archivo%
echo Nota: Proteja este archivo adecuadamente
pause
goto menu
Métodos Alternativos y Herramientas de Terceros
1. Usando WirelessKeyView (NirSoft)
Herramienta gratuita de NirSoft

No requiere instalación

Muestra todas las claves WiFi guardadas

Exporta a varios formatos

bash
# Descargar desde: https://www.nirsoft.net/utils/wireless_key.html
# Ejecutar como administrador
2. Usando Wifi Password Revealer
Interfaz gráfica simple

Muestra claves en texto plano

Opción para exportar

3. Accediendo al Registro de Windows
cmd
# Las claves WiFi están almacenadas en el registro
reg query "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\NetworkList\Profiles"

# Pero están encriptadas, requiere descifrado
Consideraciones de Seguridad
1. Solo para uso legítimo
Recuperar tu propia contraseña olvidada

Configurar nuevos dispositivos en tu red

Migrar a nuevo equipo

2. Proteja la información obtenida
No compartir archivos con claves

Eliminar archivos temporales

Usar cifrado para backups

3. Ejecutar solo como administrador
Estos comandos requieren privilegios elevados

Verificar siempre la fuente de scripts

4. En sistemas corporativos
Consultar políticas de la empresa

Posible violación de políticas de seguridad

Usar solo con autorización

Solución de Problemas Comunes
Error: "Se denegó el acceso"
cmd
# Ejecutar como administrador
# Botón derecho -> Ejecutar como administrador

# O desde PowerShell
Start-Process cmd -Verb RunAs
No aparecen perfiles WiFi
cmd
# Verificar si hay adaptador WiFi
netsh wlan show interfaces

# Ver todos los perfiles incluyendo de otros usuarios
netsh wlan show profiles user=all
Contraseña aparece en blanco
powershell
# La red podría usar autenticación empresarial (WPA2-Enterprise)
netsh wlan show profile name="RedEmpresa" key=clear

# O la clave podría estar almacenada de forma diferente
# Revisar configuración de seguridad en Windows
Exportar perfiles para otro equipo
cmd
# Exportar sin claves (solo configuración)
netsh wlan export profile folder="C:\backup"

# Exportar con claves (requiere admin)
netsh wlan export profile folder="C:\backup" key=clear

# Importar en nuevo equipo
netsh wlan add profile filename="C:\backup\Wi-Fi-Red.xml"
Comandos Rápidos de Referencia
cmd
# Mostrar todas las redes guardadas
netsh wlan show profiles

# Ver clave de red específica
netsh wlan show profile name="MiRed" key=clear

# Exportar todas las configuraciones
netsh wlan export profile folder="C:\WifiBackup" key=clear

# Ver interfaces WiFi disponibles
netsh wlan show interfaces

# Conectar a red WiFi desde CMD
netsh wlan connect name="MiRed"

# Desconectar de red WiFi
netsh wlan disconnect

# Ver redes disponibles
netsh wlan show networks mode=bssid
Esta guía completa proporciona múltiples métodos para ver claves WiFi guardadas en Windows, desde comandos simples hasta scripts avanzados y herramientas gráficas, siempre con énfasis en el uso responsable y la seguridad de la información.

todoSobreKaliLinuxEmmanuel.txt
TXT 1.29KB
ahora este
Guía Completa de Kali Linux: Post-Instalación y Configuración
Índice
Actualización del Sistema

Configuración de Repositorios

Instalación de Software Esencial

Configuración del Entorno Gráfico

Configuración de Hardware

Configuración de Red y Seguridad

Herramientas de Desarrollo

Personalización Avanzada

Scripts de Automatización

1. Actualización del Sistema
Actualización completa del sistema
bash
# Actualizar lista de paquetes
sudo apt update

# Actualizar paquetes instalados
sudo apt upgrade -y

# Actualizar distribución (cuidado con versiones)
sudo apt full-upgrade -y

# Limpiar paquetes innecesarios
sudo apt autoremove -y
sudo apt autoclean

# Verificar kernel actual
uname -r

# Actualizar herramientas de pentesting
sudo apt update && sudo apt install kali-linux-default
Configurar actualizaciones automáticas
bash
# Instalar herramientas de actualización automática
sudo apt install unattended-upgrades apt-listchanges

# Configurar actualizaciones automáticas
sudo dpkg-reconfigure --priority=low unattended-upgrades

# Verificar configuraciones
sudo nano /etc/apt/apt.conf.d/50unattended-upgrades
2. Configuración de Repositorios
Verificar y editar sources.list
bash
# Ver repositorios actuales (sin comentarios)
grep -v '#' /etc/apt/sources.list | sort -u

# Ver repositorios activos con URLs
sudo cat /etc/apt/sources.list

# Editar repositorios
sudo nano /etc/apt/sources.list

# Configuración recomendada para sources.list:
deb http://http.kali.org/kali kali-rolling main non-free contrib
# deb-src http://http.kali.org/kali kali-rolling main non-free contrib

# Agregar repositorios adicionales (si es necesario)
echo "deb http://download.virtualbox.org/virtualbox/debian $(lsb_release -sc) contrib" | sudo tee /etc/apt/sources.list.d/virtualbox.list

# Importar claves GPG de repositorios
wget -q -O - https://www.virtualbox.org/download/oracle_vbox_2016.asc | sudo apt-key add -

# Actualizar después de cambios
sudo apt update
Configurar mirror más rápido
bash
# Instalar herramienta para seleccionar mirror
sudo apt install netselect-apt

# Buscar mirror más rápido
sudo netselect-apt

# Usar mirror específico
sudo nano /etc/apt/sources.list
# Cambiar http.kali.org por mirror más rápido
3. Instalación de Software Esencial
Utilidades básicas del sistema
bash
# Gestor de contraseñas
sudo apt install keepassxc

# Visor de imágenes
sudo apt install eog

# Editor de texto por defecto
sudo update-alternatives --config editor
# o cambiar específicamente
sudo select-editor

# Herramientas de red
sudo apt install net-tools traceroute whois dnsutils

# Compresión y archivos
sudo apt install p7zip-full rar unrar zip unzip

# Herramientas de terminal
sudo apt install htop neofetch tmux screen git curl wget

# Codecs multimedia
sudo apt install ffmpeg vlc

# Navegadores adicionales
sudo apt install firefox-esr chromium
Herramientas de seguridad adicionales
bash
# VPN y proxies
sudo apt install openvpn proxychains4 tor

# Análisis de vulnerabilidades
sudo apt install nikto sqlmap metasploit-framework

# Análisis de red
sudo apt install wireshark tcpdump nmap

# Herramientas wireless
sudo apt install aircrack-ng reaver wifite

# Forense digital
sudo apt install autopsy sleuthkit forensics-all
4. Configuración del Entorno Gráfico
Cambiar fondo de pantalla de login
bash
# Ver gestor de display instalado
sudo cat /etc/X11/default-display-manager
# Debería mostrar: /usr/sbin/lightdm

# Verificar si lightdm está instalado
sudo systemctl status lightdm

# Editar configuración de lightdm
sudo nano /etc/lightdm/lightdm-gtk-greeter.conf

# Buscar y modificar la línea:
# background = /usr/share/desktop-base/kali-theme/login/background.png

# Ejemplo con imagen personalizada:
background = /usr/share/backgrounds/custom-login.jpg

# Crear directorio para fondos personalizados
sudo mkdir -p /usr/share/backgrounds
sudo cp ~/Imágenes/mi-fondo.jpg /usr/share/backgrounds/custom-login.jpg

# Reiniciar lightdm para aplicar cambios
sudo systemctl restart lightdm
# o
sudo dpkg-reconfigure lightdm
Personalizar escritorio Xfce (por defecto en Kali)
bash
# Instalar temas adicionales
sudo apt install arc-theme papirus-icon-theme

# Configurar tema
xfconf-query -c xsettings -p /Net/ThemeName -s "Arc-Dark"
xfconf-query -c xsettings -p /Net/IconThemeName -s "Papirus-Dark"

# Configurar fondo de escritorio
xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor0/workspace0/last-image -s /ruta/a/tu/fondo.jpg

# Personalizar panel
# Botón derecho en panel → Panel → Preferencias del Panel
Instalar otros entornos de escritorio
bash
# KDE Plasma
sudo apt install kali-desktop-kde

# GNOME
sudo apt install kali-desktop-gnome

# LXDE
sudo apt install kali-desktop-lxde

# Cambiar entorno de escritorio
sudo update-alternatives --config x-session-manager
5. Configuración de Hardware
Activar Bluetooth
bash
# Ver estado del servicio
sudo systemctl status bluetooth

# Activar servicio
sudo systemctl start bluetooth
sudo systemctl enable bluetooth  # Para iniciar automáticamente

# Ver dispositivos bluetooth
bluetoothctl
# Comandos dentro de bluetoothctl:
#   power on
#   agent on
#   default-agent
#   scan on
#   pair [MAC]
#   connect [MAC]
#   trust [MAC]

# Alternativa con comandos directos
sudo hciconfig hci0 up
sudo bluetoothctl power on
Configurar tarjeta de red WiFi
bash
# Ver interfaces de red
ip a
iwconfig

# Ver controladores WiFi
lspci -k | grep -A 2 -i network
lsusb

# Instalar controladores adicionales
sudo apt install firmware-linux firmware-linux-nonfree

# Para tarjetas específicas (ej: Realtek)
sudo apt install realtek-rtl88xxau-dkms
Configurar impresoras
bash
# Instalar CUPS
sudo apt install cups cups-client

# Habilitar servicio
sudo systemctl start cups
sudo systemctl enable cups

# Configurar desde navegador
# http://localhost:631
6. Configuración de Red y Seguridad
Configurar proxy
bash
# Configurar proxy temporal
export http_proxy="http://usuario:contraseña@proxy:puerto"
export https_proxy="http://usuario:contraseña@proxy:puerto"

# Configurar proxy permanente
sudo nano /etc/environment
# Agregar:
# http_proxy="http://proxy:puerto"
# https_proxy="http://proxy:puerto"
# ftp_proxy="ftp://proxy:puerto"
# no_proxy="localhost,127.0.0.1"

# Configurar apt para usar proxy
sudo nano /etc/apt/apt.conf.d/80proxy
# Agregar:
# Acquire::http::Proxy "http://proxy:puerto";
# Acquire::https::Proxy "http://proxy:puerto";
Configurar firewall
bash
# Verificar estado
sudo ufw status

# Habilitar firewall
sudo ufw enable

# Reglas básicas
sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw allow ssh
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp

# Ver reglas
sudo ufw status numbered

# Eliminar regla
sudo ufw delete [número]
Configurar SSH
bash
# Instalar servidor SSH
sudo apt install openssh-server

# Configurar SSH
sudo nano /etc/ssh/sshd_config

# Recomendaciones de seguridad:
# Port 2222  # Cambiar puerto
# PermitRootLogin no
# PasswordAuthentication no
# PubkeyAuthentication yes

# Reiniciar servicio
sudo systemctl restart ssh

# Generar clave SSH
ssh-keygen -t rsa -b 4096
7. Herramientas de Desarrollo
Instalar Eclipse (Método completo)
bash
# 1. Descargar última versión desde eclipse.org
wget https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2023-09/R/eclipse-jee-2023-09-R-linux-gtk-x86_64.tar.gz

# 2. Extraer en /opt
sudo tar -xzvf eclipse-jee-*.tar.gz -C /opt/

# 3. Crear enlace simbólico
sudo ln -s /opt/eclipse/eclipse /usr/local/bin/eclipse

# 4. Crear archivo .desktop
sudo nano /usr/share/applications/eclipse.desktop

# Contenido:
[Desktop Entry]
Name=Eclipse IDE
Type=Application
Exec=/opt/eclipse/eclipse
Terminal=false
Icon=/opt/eclipse/icon.xpm
Comment=Integrated Development Environment
NoDisplay=false
Categories=Development;IDE;
Keywords=Java;IDE;Development;
StartupWMClass=Eclipse
MimeType=text/x-java;
Name[en]=Eclipse
Name[en_US]=Eclipse

# 5. Instalar shortcut
sudo desktop-file-install /usr/share/applications/eclipse.desktop

# 6. Actualizar base de datos de aplicaciones
sudo update-desktop-database

# 7. Instalar Java (si es necesario)
sudo apt install default-jdk
Instalar Visual Studio Code
bash
# Método 1: Desde repositorio Microsoft
wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > packages.microsoft.gpg
sudo install -o root -g root -m 644 packages.microsoft.gpg /etc/apt/trusted.gpg.d/
sudo sh -c 'echo "deb [arch=amd64,arm64,armhf signed-by=/etc/apt/trusted.gpg.d/packages.microsoft.gpg] https://packages.microsoft.com/repos/code stable main" > /etc/apt/sources.list.d/vscode.list'
sudo apt update
sudo apt install code

# Método 2: Descarga directa
wget https://code.visualstudio.com/sha/download?build=stable&os=linux-deb-x64 -O vscode.deb
sudo dpkg -i vscode.deb
Instalar lenguajes de programación
bash
# Python y herramientas
sudo apt install python3 python3-pip python3-venv
sudo apt install python2  # Para compatibilidad con herramientas antiguas

# Node.js y npm
sudo apt install nodejs npm

# Go
sudo apt install golang

# Ruby
sudo apt install ruby ruby-dev

# Java
sudo apt install default-jdk default-jre

# C/C++
sudo apt install gcc g++ make cmake
8. Personalización Avanzada
Configurar aliases y funciones
bash
# Editar .bashrc
nano ~/.bashrc

# Agregar aliases útiles
alias update='sudo apt update && sudo apt upgrade -y'
alias cleanup='sudo apt autoremove -y && sudo apt autoclean'
alias ports='netstat -tulanp'
alias ll='ls -la'
alias ip='ip -c'
alias untar='tar -zxvf'
alias wifi='nmcli dev wifi'
alias myip='curl ifconfig.me'

# Para pentesting
alias nmap-scan='sudo nmap -sV -sC -O'
alias web-scan='nikto -h'

# Recargar configuración
source ~/.bashrc
Configurar prompt personalizado
bash
# Editar .bashrc
nano ~/.bashrc

# Agregar al final:
export PS1="\[\e[31m\]\u\[\e[m\]@\[\e[32m\]\h\[\e[m\]:\[\e[34m\]\w\[\e[m\]\\$ "

# O más avanzado:
export PS1="\[\033[01;31m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\\$ "
Instalar y configurar Zsh
bash
# Instalar Zsh
sudo apt install zsh zsh-syntax-highlighting zsh-autosuggestions

# Instalar Oh My Zsh
sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

# Cambiar shell por defecto
chsh -s $(which zsh)

# Configurar tema
nano ~/.zshrc
# ZSH_THEME="agnoster"
# ZSH_THEME="powerlevel10k/powerlevel10k"

# Instalar tema powerlevel10k
git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k
Configurar herramientas de virtualización
bash
# Instalar VirtualBox
sudo apt install virtualbox virtualbox-ext-pack

# Instalar VMware Workstation
# Descargar desde: https://www.vmware.com/products/workstation-pro.html
chmod +x VMware-Workstation-Full-*.bundle
sudo ./VMware-Workstation-Full-*.bundle

# Instalar QEMU/KVM
sudo apt install qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virt-manager
sudo adduser $USER libvirt
sudo adduser $USER libvirt-qemu

# Verificar instalación
virsh list --all
9. Scripts de Automatización
Script de post-instalación completo
bash
#!/bin/bash
# kali-postinstall.sh
# Script completo de post-instalación para Kali Linux

set -e  # Detener en error

# Colores para output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# Funciones de utilidad
info() { echo -e "${BLUE}[INFO]${NC} $1"; }
success() { echo -e "${GREEN}[OK]${NC} $1"; }
warning() { echo -e "${YELLOW}[ADVERTENCIA]${NC} $1"; }
error() { echo -e "${RED}[ERROR]${NC} $1"; exit 1; }

# Verificar si es root
if [ "$EUID" -ne 0 ]; then 
    error "Por favor ejecuta como root: sudo $0"
fi

echo "========================================="
echo "  CONFIGURACIÓN POST-INSTALACIÓN KALI"
echo "========================================="
echo

# Paso 1: Actualizar sistema
info "Actualizando sistema..."
apt update && apt upgrade -y
success "Sistema actualizado"

# Paso 2: Instalar herramientas esenciales
info "Instalando herramientas esenciales..."
apt install -y \
    keepassxc \
    git \
    curl \
    wget \
    htop \
    neofetch \
    tmux \
    net-tools \
    vim \
    gnupg \
    software-properties-common \
    apt-transport-https \
    ca-certificates
success "Herramientas esenciales instaladas"

# Paso 3: Configurar repositorios
info "Verificando repositorios..."
if ! grep -q "kali-rolling main non-free contrib" /etc/apt/sources.list; then
    warning "Repositorios no configurados correctamente"
    echo "deb http://http.kali.org/kali kali-rolling main non-free contrib" > /etc/apt/sources.list
    success "Repositorios configurados"
fi

# Paso 4: Instalar herramientas de pentesting adicionales
info "Instalando herramientas de pentesting..."
apt install -y \
    metasploit-framework \
    nmap \
    wireshark \
    burpsuite \
    sqlmap \
    john \
    hashcat \
    hydra \
    aircrack-ng \
    recon-ng \
    maltego
success "Herramientas de pentesting instaladas"

# Paso 5: Configurar entorno gráfico
info "Configurando entorno gráfico..."
# Instalar temas
apt install -y arc-theme papirus-icon-theme

# Configurar lightdm
if [ -f /etc/lightdm/lightdm-gtk-greeter.conf ]; then
    sed -i 's/^background=.*/background=\/usr\/share\/backgrounds\/kali\/kali-blur.png/' /etc/lightdm/lightdm-gtk-greeter.conf
fi
success "Entorno gráfico configurado"

# Paso 6: Configurar red
info "Configurando servicios de red..."
systemctl enable bluetooth
systemctl start bluetooth

# Configurar SSH
apt install -y openssh-server
sed -i 's/^#PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config
sed -i 's/^#PermitRootLogin prohibit-password/PermitRootLogin no/' /etc/ssh/sshd_config
systemctl restart ssh
success "Servicios de red configurados"

# Paso 7: Instalar herramientas de desarrollo
info "Instalando herramientas de desarrollo..."
apt install -y \
    python3 \
    python3-pip \
    python3-venv \
    nodejs \
    npm \
    default-jdk \
    gcc \
    g++ \
    make

# Instalar Visual Studio Code
if ! command -v code &> /dev/null; then
    wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > packages.microsoft.gpg
    install -o root -g root -m 644 packages.microsoft.gpg /etc/apt/trusted.gpg.d/
    echo "deb [arch=amd64 signed-by=/etc/apt/trusted.gpg.d/packages.microsoft.gpg] https://packages.microsoft.com/repos/vscode stable main" > /etc/apt/sources.list.d/vscode.list
    apt update
    apt install -y code
fi
success "Herramientas de desarrollo instaladas"

# Paso 8: Configurar seguridad
info "Configurando seguridad..."
# Configurar firewall
apt install -y ufw
ufw default deny incoming
ufw default allow outgoing
ufw allow ssh
ufw --force enable

# Deshabilitar servicios innecesarios
systemctl disable apache2 2>/dev/null || true
systemctl disable mysql 2>/dev/null || true
success "Seguridad configurada"

# Paso 9: Limpieza final
info "Realizando limpieza final..."
apt autoremove -y
apt autoclean
success "Limpieza completada"

# Paso 10: Mostrar información del sistema
info "Mostrando información del sistema..."
neofetch

echo
echo "========================================="
success "CONFIGURACIÓN COMPLETADA EXITOSAMENTE"
echo "========================================="
echo
echo "Recomendaciones:"
echo "1. Reiniciar el sistema: sudo reboot"
echo "2. Cambiar contraseña de usuario: passwd"
echo "3. Configurar backup regular"
echo "4. Mantener sistema actualizado"
echo
Script para backup de configuración
bash
#!/bin/bash
# backup-kali-config.sh

BACKUP_DIR="$HOME/kali-backup-$(date +%Y%m%d_%H%M%S)"
mkdir -p "$BACKUP_DIR"

echo "Creando backup de configuración Kali Linux..."
echo "Directorio: $BACKUP_DIR"

# Copiar configuraciones importantes
cp -r ~/.bashrc "$BACKUP_DIR/"
cp -r ~/.ssh "$BACKUP_DIR/" 2>/dev/null || true
cp -r ~/.zshrc "$BACKUP_DIR/" 2>/dev/null || true
cp -r ~/.config "$BACKUP_DIR/" 2>/dev/null || true

# Configuraciones del sistema
sudo cp /etc/apt/sources.list "$BACKUP_DIR/"
sudo cp /etc/ssh/sshd_config "$BACKUP_DIR/"
sudo cp /etc/lightdm/lightdm-gtk-greeter.conf "$BACKUP_DIR/" 2>/dev/null || true

# Lista de paquetes instalados
dpkg --get-selections > "$BACKUP_DIR/installed-packages.txt"

# Comprimir backup
tar -czf "$BACKUP_DIR.tar.gz" "$BACKUP_DIR"
rm -rf "$BACKUP_DIR"

echo "Backup completado: $BACKUP_DIR.tar.gz"
Script para restaurar configuración
bash
#!/bin/bash
# restore-kali-config.sh

if [ -z "$1" ]; then
    echo "Uso: $0 archivo-backup.tar.gz"
    exit 1
fi

BACKUP_FILE="$1"
RESTORE_DIR="/tmp/kali-restore-$(date +%s)"

echo "Restaurando configuración desde: $BACKUP_FILE"
echo "Directorio temporal: $RESTORE_DIR"

# Extraer backup
mkdir -p "$RESTORE_DIR"
tar -xzf "$BACKUP_FILE" -C "$RESTORE_DIR"

# Restaurar archivos
cp -r "$RESTORE_DIR"/*/.bashrc ~/
cp -r "$RESTORE_DIR"/*/.ssh ~/ 2>/dev/null || true
cp -r "$RESTORE_DIR"/*/.zshrc ~/ 2>/dev/null || true
cp -r "$RESTORE_DIR"/*/.config ~/ 2>/dev/null || true

# Restaurar configuraciones del sistema (con cuidado)
read -p "¿Restaurar configuraciones del sistema? (s/N): " respuesta
if [[ $respuesta =~ ^[Ss]$ ]]; then
    sudo cp "$RESTORE_DIR"/*/sources.list /etc/apt/
    sudo cp "$RESTORE_DIR"/*/sshd_config /etc/ssh/
    sudo cp "$RESTORE_DIR"/*/lightdm-gtk-greeter.conf /etc/lightdm/ 2>/dev/null || true
fi

# Limpiar
rm -rf "$RESTORE_DIR"

echo "Restauración completada"
echo "Reinicia el sistema para aplicar todos los cambios"
Resolución de Problemas Comunes
Problemas con repositorios
bash
# Error: "Failed to fetch"
sudo rm /var/lib/apt/lists/* -vf
sudo apt update

# Error de claves GPG
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys [CLAVE]
Problemas con display manager
bash
# Si lightdm no funciona
sudo systemctl stop lightdm
sudo systemctl start gdm3  # o sddm, según instalado

# Cambiar gestor de display
sudo dpkg-reconfigure lightdm
Problemas con WiFi
bash
# Reiniciar servicio de red
sudo systemctl restart NetworkManager

# Ver logs
sudo dmesg | grep -i wifi
sudo journalctl -u NetworkManager

# Reinstalar controladores
sudo apt install --reinstall firmware-iwlwifi
Espacio en disco bajo
bash
# Limpiar cache de apt
sudo apt clean

# Limpiar kernels antiguos
sudo apt autoremove --purge

# Ver espacio usado
sudo du -sh /var/log/* 2>/dev/null
sudo journalctl --vacuum-time=3d
Consejos Finales
Seguridad
Cambiar contraseña por defecto: passwd

Configurar firewall: UFW o iptables

Actualizar regularmente: sudo apt update && sudo apt upgrade

Usar VPN para pruebas de penetración

Documentar actividades en lab journal

Optimización
Usar ZRAM para sistemas con poca RAM

Configurar swap si es necesario

Deshabilitar servicios innecesarios

Usar aliases para comandos frecuentes

Mantenimiento
Backups regulares de configuraciones

Monitorear logs: sudo journalctl -f

Limpiar archivos temporales regularmente

Verificar integridad del sistema periódicamente

Esta guía completa cubre desde la configuración básica hasta avanzada de Kali Linux, incluyendo scripts de automatización y solución de problemas comunes. Recuerda usar Kali Linux solo para fines legales y educativos, siempre con autorización en sistemas que no te pertenecen.

Esta respuesta es generada por AI, solo como referencia.
todoSobreUbuntuEmmanuel.txt
TXT 12.19KB
ahora este
Guía Completa de Ubuntu: Post-Instalación, Comandos y Configuración
Índice
Post-Instalación de Ubuntu

Fundamentos de la Terminal

Comandos Esenciales de Archivos y Directorios

Gestión de Procesos

Búsqueda y Manipulación de Archivos

Compresión y Archivos

Herramientas de Texto Avanzadas

Permisos y Propiedad de Archivos

Redirección y Pipes

Gestión de Paquetes

Variables de Entorno

Automatización y Scripting

Configuración de Red y Tiempo

1. Post-Instalación de Ubuntu
Configuración Inicial
bash
# 1. Activar LivePatch para actualizaciones de seguridad en caliente
sudo apt update
sudo apt install ubuntu-advantage-tools
sudo ua attach [TOKEN]  # Token desde https://ubuntu.com/advantage

# 2. Habilitar Socios de Canonical
# Ir a: Software y Actualizaciones → Otro Software → Marcar 'Socios de Canonical'

# 3. Actualizar sistema
sudo apt update
sudo apt upgrade -y
sudo apt full-upgrade -y

# 4. Instalar actualizaciones de firmware
sudo fwupdmgr refresh
sudo fwupdmgr update
Instalación de Software Esencial
bash
# Herramientas de desarrollo y sistema
sudo apt install -y \
    git \
    vim \
    curl \
    wget \
    htop \
    neofetch \
    mlocate \
    build-essential \
    software-properties-common \
    apt-transport-https \
    ca-certificates \
    gnupg

# Actualizar base de datos de locate
sudo updatedb

# Navegadores y comunicaciones
sudo snap install firefox
sudo snap install chromium
sudo snap install slack --classic
sudo snap install teams

# Desarrollo
sudo snap install code --classic
sudo snap install postman
sudo snap install brackets --classic

# Oficina y productividad
sudo apt install -y \
    libreoffice \
    thunderbird \
    keepassxc \
    filezilla \
    remmina

# Multimedia
sudo snap install spotify
sudo apt install -y vlc

# PowerShell
sudo apt install -y powershell

# OneDrive
sudo apt install -y onedrive
onedrive --synchronize  # Primera sincronización

# Herramientas Java
sudo apt install -y default-jdk
# Para Eclipse y NetBeans, descargar desde sitios oficiales
2. Fundamentos de la Terminal
¿Qué es la Terminal?
La terminal es una interfaz de línea de comandos (CLI) que permite interactuar con el sistema operativo mediante comandos de texto.

Sintaxis General de Comandos
text
comando -opciones argumentos
Componentes:

Comando: Nombre del programa a ejecutar

Opciones/Flags: Modifican el comportamiento del comando (ej: -l, -a)

Argumentos: Datos de entrada para el comando

Comandos Básicos
bash
# Fecha y hora
date
sudo date --set "2023-12-25 10:30:00"  # Cambiar fecha/hora

# Imprimir mensaje
echo "Hola Mundo"
echo -e "Línea 1\nLínea 2"  # Con saltos de línea

# Manual de comandos
man ls
man man  # Manual del manual
info ls  # Información alternativa

# Historial de comandos
history
history 10  # Últimos 10 comandos
!123  # Ejecutar comando número 123 del historial
!!    # Repetir último comando
!git  # Ejecutar último comando que empiece con 'git'

# Limpiar pantalla
clear
ctrl + l  # Atajo de teclado
Atajos de Teclado en Terminal
bash
ctrl + c     # Cancelar proceso actual
ctrl + z     # Suspender proceso (enviar a segundo plano)
fg           # Traer proceso suspendido a primer plano
bg           # Continuar proceso en segundo plano
ctrl + d     # Cerrar terminal/Fin de archivo (EOF)
ctrl + a     # Ir al inicio de la línea
ctrl + e     # Ir al final de la línea
ctrl + u     # Borrar desde cursor hasta inicio
ctrl + k     # Borrar desde cursor hasta final
ctrl + w     # Borrar palabra anterior
ctrl + r     # Búsqueda en historial
tab          # Autocompletar
3. Comandos Esenciales de Archivos y Directorios
Navegación
bash
# Directorio actual
pwd  # Print Working Directory

# Cambiar directorio
cd /ruta/completa
cd ~        # Ir al home
cd          # Igual que cd ~
cd ..       # Subir un nivel
cd -        # Volver al directorio anterior
cd ../..    # Subir dos niveles

# Listar contenido
ls          # Listar archivos
ls -a       # Mostrar archivos ocultos (comienzan con .)
ls -l       # Listado detallado
ls -lh      # Listado detallado con tamaños legibles
ls -la      # Listado detallado incluyendo ocultos
ls -ltr     # Ordenar por fecha (más antiguos primero)
ls -lS      # Ordenar por tamaño (mayores primero)
ls -R       # Listar recursivamente subdirectorios
ls *.txt    # Listar solo archivos .txt
Manejo de Archivos y Directorios
bash
# Crear directorios
mkdir nuevo_directorio
mkdir -p directorio/subdir1/subdir2  # Crear estructura completa

# Crear archivos
touch archivo.txt
touch archivo1.txt archivo2.txt archivo3.txt

# Copiar
cp origen.txt destino.txt
cp -r directorio/ copia_directorio/  # Copiar directorios recursivamente

# Mover/Renombrar
mv viejo.txt nuevo.txt
mv archivo.txt /otra/ruta/

# Eliminar
rm archivo.txt
rm -r directorio/        # Eliminar directorio y contenido
rm -rf directorio/       # Forzar eliminación sin confirmar
rmdir directorio_vacio/  # Eliminar solo directorios vacíos

# Ver contenido de archivos
cat archivo.txt          # Mostrar todo el contenido
less archivo.txt         # Paginar contenido (q para salir)
more archivo.txt         # Paginar contenido (similar a less)
head archivo.txt         # Primeras 10 líneas
head -n 20 archivo.txt   # Primeras 20 líneas
tail archivo.txt         # Últimas 10 líneas
tail -n 20 archivo.txt   # Últimas 20 líneas
tail -f log.txt          # Seguir archivo en tiempo real
Archivos y Directorios Especiales
bash
.      # Directorio actual
..     # Directorio padre
~      # Directorio home del usuario
/      # Directorio raíz
-      # Directorio anterior
4. Gestión de Procesos
Monitoreo de Procesos
bash
# Procesos del usuario actual
ps
ps aux     # Todos los procesos del sistema
ps -ef     # Formato extendido
ps aux | grep firefox  # Buscar proceso específico

# Monitoreo en tiempo real
top
htop       # Más amigable (necesita instalación)
sudo apt install htop

# Información del sistema
uptime     # Tiempo encendido y carga del sistema
free -h    # Memoria disponible
df -h      # Espacio en disco
du -sh *   # Espacio usado por archivos/directorios
Control de Procesos
bash
# Matar procesos
kill 1234              # Enviar señal TERM al PID 1234
kill -9 1234           # Forzar terminación (SIGKILL)
killall firefox        # Matar todos los procesos con nombre 'firefox'
pkill firefox          # Similar a killall
xkill                  # Matar ventana gráfica (clic en ventana)

# Prioridades
nice -n 10 comando     # Ejecutar con prioridad baja
renice 10 -p 1234      # Cambiar prioridad de proceso existente
Procesos en Segundo Plano
bash
comando &              # Ejecutar en segundo plano
jobs                   # Listar trabajos en segundo plano
fg %1                  # Traer trabajo 1 a primer plano
bg %1                  # Continuar trabajo 1 en segundo plano

# Ejemplo práctico
sleep 60 &             # Dormir 60 segundos en segundo plano
jobs                   # Ver trabajos
fg %1                  # Traer a primer plano
ctrl + z               # Suspender
bg %1                  # Continuar en segundo plano
5. Búsqueda y Manipulación de Archivos
Búsqueda de Archivos
bash
# locate (rápido, usa base de datos)
sudo updatedb          # Actualizar base de datos
locate archivo.txt
locate -i "*.pdf"      # Case insensitive
locate -c "*.txt"      # Contar resultados

# whereis (buscar binarios, fuente y manuales)
whereis ls
whereis -b ls          # Solo binarios

# which (mostrar ruta de comandos)
which python
which -a python        # Todas las instancias

# find (potente, busca en tiempo real)
find . -name "*.txt"                    # Por nombre
find /home -iname "*.jpg"               # Case insensitive
find . -type f -name "config*"          # Solo archivos
find . -type d -name "doc*"             # Solo directorios
find . -size +100M                      # Archivos >100MB
find . -size -10k                       # Archivos <10KB
find . -mtime -7                        # Modificados últimos 7 días
find . -mtime +30                       # Modificados hace más de 30 días
find . -user emmanuel                   # Por usuario propietario
find . -perm 644                        # Por permisos específicos
find . -exec chmod 644 {} \;            # Cambiar permisos de resultados
find . -name "*.tmp" -exec rm {} \;     # Eliminar archivos .tmp
Comodines (Wildcards)
bash
*       # Cualquier cadena de caracteres
?       # Un solo carácter
[]      # Rango o conjunto de caracteres
[!]     # Negación de conjunto

# Ejemplos
ls *.txt              # Todos los .txt
ls file?.txt          # file1.txt, file2.txt, etc.
ls file[0-9].txt      # file0.txt a file9.txt
ls file[abc].txt      # filea.txt, fileb.txt, filec.txt
ls [!0-9]*.txt        # .txt que no empiecen con número
6. Compresión y Archivos
Comprimir y Descomprimir
bash
# gzip/gunzip (comprime archivos individuales)
gzip archivo.txt              # Comprimir → archivo.txt.gz
gzip -9 archivo.txt           # Máxima compresión
gunzip archivo.txt.gz         # Descomprimir
zcat archivo.txt.gz           # Ver contenido sin descomprimir

# zip/unzip
zip archivo.zip file1 file2   # Crear zip
zip -r carpeta.zip carpeta/   # Comprimir directorio
unzip archivo.zip             # Extraer
unzip -l archivo.zip          # Listar contenido
unzip archivo.zip -d destino/ # Extraer a directorio específico

# 7zip
sudo apt install p7zip-full
7z a archivo.7z file1 file2   # Comprimir
7z x archivo.7z               # Extraer
Archivos Tar (Tape Archive)
bash
# Crear archivo tar
tar -cvf archivo.tar directorio/      # Crear
tar -cvf backup.tar file1 file2 dir/  # Múltiples archivos

# Comprimir con gzip
tar -czvf archivo.tar.gz directorio/

# Comprimir con bzip2
tar -cjvf archivo.tar.bz2 directorio/

# Comprimir con xz
tar -cJvf archivo.tar.xz directorio/

# Listar contenido
tar -tf archivo.tar
tar -tzf archivo.tar.gz

# Extraer
tar -xvf archivo.tar
tar -xzvf archivo.tar.gz
tar -xjvf archivo.tar.bz2
tar -xJvf archivo.tar.xz

# Extraer a directorio específico
tar -xzvf archivo.tar.gz -C /destino/
7. Herramientas de Texto Avanzadas
grep (Global Regular Expression Print)
bash
# Búsqueda básica
grep "texto" archivo.txt
grep -i "texto" archivo.txt          # Case insensitive
grep -v "texto" archivo.txt          # Invertir coincidencia
grep -n "texto" archivo.txt          # Mostrar números de línea
grep -c "texto" archivo.txt          # Contar coincidencias
grep -r "texto" directorio/          # Búsqueda recursiva
grep -l "texto" *.txt                # Mostrar solo nombres de archivos

# Expresiones regulares
grep "^inicio" archivo.txt           # Líneas que empiezan con
grep "fin$" archivo.txt              # Líneas que terminan con
grep "palabra1\|palabra2" archivo.txt # OR lógico
grep -E "(error|warning)" log.txt    # Patrones extendidos

# Contexto
grep -B 2 "error" log.txt            # 2 líneas antes
grep -A 2 "error" log.txt            # 2 líneas después
grep -C 2 "error" log.txt            # 2 líneas antes y después
sed (Stream Editor)
bash
# Sustitución
sed 's/viejo/nuevo/g' archivo.txt              # Sustituir todas
sed 's/viejo/nuevo/' archivo.txt               # Solo primera por línea
sed -i 's/viejo/nuevo/g' archivo.txt           # Modificar archivo

# Eliminar líneas
sed '5d' archivo.txt                           # Eliminar línea 5
sed '1,10d' archivo.txt                        # Eliminar líneas 1-10
sed '/patrón/d' archivo.txt                    # Eliminar por patrón

# Imprimir líneas específicas
sed -n '10,20p' archivo.txt                    # Líneas 10-20
sed -n '/inicio/,/fin/p' archivo.txt           # Rango por patrón

# Múltiples comandos
sed -e 's/foo/bar/g' -e 's/baz/qux/g' archivo.txt
awk (Aho, Weinberger, Kernighan)
bash
# Imprimir columnas
awk '{print $1}' archivo.txt                   # Primera columna
awk '{print $1, $3}' archivo.txt               # Columnas 1 y 3
awk '{print $NF}' archivo.txt                  # Última columna

# Con delimitador específico
awk -F ',' '{print $1}' archivo.csv            # Delimitador coma
awk -F ':' '{print $1, $3}' /etc/passwd

# Filtrar por condición
awk '$3 > 100 {print $0}' datos.txt           # Columna 3 > 100
awk '/error/ {print $0}' log.txt              # Líneas que contienen 'error'

# Estadísticas básicas
awk '{sum+=$1} END {print sum}' numeros.txt   # Suma
awk '{sum+=$1; count++} END {print sum/count}' numeros.txt  # Promedio
8. Permisos y Propiedad de Archivos
Entender Permisos
bash
# Ver permisos detallados
ls -l
# Ejemplo: drwxr-xr-x 12 usuario grupo 4096 Dec 25 10:30 directorio
# d rwx r-x r-x
# │  │   │   └── Otros: lectura y ejecución
# │  │   └────── Grupo: lectura y ejecución
# │  └────────── Usuario: lectura, escritura y ejecución
# └───────────── Tipo: d=directorio, -=archivo, l=enlace

# Tipos de archivo:
# - = Archivo regular
# d = Directorio
# l = Enlace simbólico
# c = Dispositivo de caracteres
# b = Dispositivo de bloques
# p = Pipe con nombre
# s = Socket
Cambiar Permisos (chmod)
bash
# Notación numérica (octal)
# r=4, w=2, x=1
# Usuario | Grupo | Otros
chmod 755 archivo.txt      # rwxr-xr-x
chmod 644 archivo.txt      # rw-r--r--
chmod 600 archivo.txt      # rw-------
chmod 777 archivo.txt      # rwxrwxrwx (¡PELIGROSO!)

# Notación simbólica
chmod u+x script.sh        # Agregar ejecución al usuario
chmod g-w archivo.txt      # Quitar escritura al grupo
chmod o=r archivo.txt      # Otros solo lectura
chmod a+x script.sh        # Todos pueden ejecutar
chmod u=rwx,g=rx,o= archivo.txt

# Cambiar permisos recursivamente
chmod -R 755 directorio/
chmod -R u+w directorio/
Cambiar Propiedad (chown, chgrp)
bash
# Cambiar dueño
sudo chown usuario archivo.txt
sudo chown usuario:grupo archivo.txt
sudo chown usuario: archivo.txt           # Cambiar usuario, mantener grupo
sudo chown -R usuario:grupo directorio/   # Recursivo

# Cambiar grupo
sudo chgrp grupo archivo.txt
sudo chgrp -R grupo directorio/

# Ejemplos prácticos
sudo chown www-data:www-data /var/www/html/
sudo chmod 755 /home/usuario/script.sh
Permisos Especiales
bash
# SUID (Set User ID) - Ejecutar como propietario
chmod u+s /usr/bin/passwd    # Los usuarios ejecutan passwd como root
chmod 4755 archivo           # Permisos incluyendo SUID

# SGID (Set Group ID) - Ejecutar como grupo
chmod g+s directorio/        # Archivos creados heredan grupo del directorio
chmod 2755 archivo

# Sticky Bit - Solo propietario puede borrar
chmod +t /tmp                # En /tmp, cualquiera puede crear, solo dueño borra
chmod 1777 directorio/
9. Redirección y Pipes
Redirección de E/S
bash
# Salida estándar (stdout)
comando > archivo.txt        # Sobrescribir archivo
comando >> archivo.txt       # Añadir al final
comando 2> error.log         # Redirigir errores
comando &> salida.log        # Redirigir stdout y stderr
comando > salida.log 2>&1    # Igual que anterior

# Entrada estándar (stdin)
comando < archivo.txt
mysql -u root -p < backup.sql

# Here Document
cat << EOF
Línea 1
Línea 2
EOF

# Here String
grep "texto" <<< "esta es una cadena con texto"

# /dev/null (descartar salida)
comando > /dev/null 2>&1     # Silenciar completamente
Pipes (|)
bash
# Encadenar comandos
comando1 | comando2          # Salida de comando1 como entrada de comando2

# Ejemplos prácticos
ps aux | grep firefox
cat archivo.txt | wc -l
ls -l | sort -k5 -n          # Ordenar por tamaño
history | grep "apt install"
df -h | grep /dev/sda1
cat /var/log/syslog | tail -20

# Múltiples pipes
cat acceso.log | grep "404" | sort | uniq -c | sort -nr
Comandos útiles con pipes
bash
# wc (Word Count)
wc -l archivo.txt            # Contar líneas
wc -w archivo.txt            # Contar palabras
wc -c archivo.txt            # Contar caracteres

# sort
sort archivo.txt             # Ordenar alfabéticamente
sort -n archivo.txt          # Ordenar numéricamente
sort -r archivo.txt          # Ordenar inverso
sort -u archivo.txt          # Eliminar duplicados
sort -k2 archivo.txt         # Ordenar por segunda columna

# uniq
uniq archivo.txt             # Eliminar duplicados consecutivos
uniq -c archivo.txt          # Contar ocurrencias
uniq -d archivo.txt          # Mostrar solo duplicados

# cut
cut -d',' -f1 archivo.csv    # Primera columna separada por coma
cut -c1-10 archivo.txt       # Caracteres 1-10

# tr (translate)
echo "HOLA" | tr 'A-Z' 'a-z' # Convertir a minúsculas
cat archivo.txt | tr -d '\r' # Eliminar retornos de carro
10. Gestión de Paquetes
Sistema APT (Advanced Package Tool)
bash
# Actualizar repositorios
sudo apt update

# Actualizar paquetes instalados
sudo apt upgrade
sudo apt full-upgrade      # Actualiza dependencias que puedan romper

# Instalar paquetes
sudo apt install paquete
sudo apt install paquete1 paquete2 paquete3
sudo apt install ./paquete.deb  # Instalar desde archivo .deb

# Desinstalar
sudo apt remove paquete     # Eliminar paquete
sudo apt purge paquete      # Eliminar paquete y configuraciones
sudo apt autoremove         # Eliminar dependencias no usadas

# Buscar paquetes
apt search "nombre"
apt search --names-only "nombre"

# Información de paquetes
apt show paquete
apt policy paquete

# Listar paquetes
apt list --installed
apt list --upgradable
apt list paquete

# Limpiar
sudo apt clean              # Limpiar cache de .deb
sudo apt autoclean          # Limpiar .deb obsoletos
sudo apt autoremove --purge # Limpiar completamente

# Reparar dependencias
sudo apt --fix-broken install
sudo dpkg --configure -a

# Historial
cat /var/log/apt/history.log
Snap Packages
bash
# Buscar
snap find "nombre"

# Instalar
sudo snap install paquete
sudo snap install paquete --classic  # Paquetes clásicos

# Listar instalados
snap list

# Actualizar
sudo snap refresh
sudo snap refresh paquete

# Desinstalar
sudo snap remove paquete

# Revertir a versión anterior
sudo snap revert paquete
Flatpak
bash
# Añadir repositorio Flathub
flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo

# Instalar
flatpak install flathub com.spotify.Client

# Listar
flatpak list

# Ejecutar
flatpak run com.spotify.Client

# Actualizar
flatpak update

# Desinstalar
flatpak uninstall com.spotify.Client
11. Variables de Entorno
Variables Comunes
bash
# Mostrar variables
printenv
env
echo $PATH
echo $HOME
echo $USER
echo $SHELL

# Variables importantes
$PATH        # Rutas de búsqueda de ejecutables
$HOME        # Directorio home del usuario
$USER        # Nombre del usuario actual
$SHELL       # Shell actual
$PWD         # Directorio actual
$OLDPWD      # Directorio anterior
$TERM        # Tipo de terminal
$EDITOR      # Editor por defecto
$LANG        # Idioma del sistema

# Configurar variables temporales
export MI_VARIABLE="valor"
export PATH=$PATH:/ruta/nueva

# Variables de sesión (temporal)
VARIABLE="valor"

# Ver valor específico
echo $VARIABLE
Configurar Variables Permanentes
bash
# Para usuario actual (~/.bashrc)
nano ~/.bashrc
# Agregar al final:
export MI_VARIABLE="valor"
export PATH=$PATH:/ruta/agregada

# Para todos los usuarios (/etc/environment)
sudo nano /etc/environment
# Agregar:
MI_VARIABLE="valor"

# Para scripts específicos (~/.profile)
nano ~/.profile

# Recargar configuración
source ~/.bashrc
exec bash
Configurar Editor por Defecto
bash
# Ver editor actual
echo $EDITOR

# Cambiar editor
export EDITOR=vim
export EDITOR=nano
export EDITOR=code

# Permanente (en ~/.bashrc)
echo 'export EDITOR=nano' >> ~/.bashrc
12. Automatización y Scripting
Scripts Bash Básicos
bash
#!/bin/bash
# Script de ejemplo

# Comentarios con #
echo "Hola Mundo"

# Variables
NOMBRE="Emmanuel"
EDAD=25
echo "Hola $NOMBRE, tienes $EDAD años"

# Argumentos del script
echo "Primer argumento: $1"
echo "Todos los argumentos: $@"
echo "Número de argumentos: $#"

# Condicionales
if [ -f "$1" ]; then
    echo "$1 es un archivo"
elif [ -d "$1" ]; then
    echo "$1 es un directorio"
else
    echo "$1 no existe"
fi

# Bucles
for i in {1..5}; do
    echo "Iteración $i"
done

for archivo in *.txt; do
    echo "Procesando: $archivo"
done

# Funciones
saludar() {
    echo "Hola $1"
}
saludar "Mundo"

# Salida con código de estado
exit 0  # 0 = éxito, otros = error
Programación de Tareas
Cron
bash
# Editar crontab del usuario actual
crontab -e

# Sintaxis: minuto hora dia_mes mes dia_semana comando
# * = cualquier valor
# , = lista de valores
# - = rango de valores
# / = intervalos

# Ejemplos:
0 * * * * /ruta/script.sh           # Cada hora en punto
*/15 * * * * /ruta/script.sh        # Cada 15 minutos
0 2 * * * /ruta/backup.sh           # Diario a las 2 AM
0 0 * * 0 /ruta/limpieza.sh         # Cada domingo a media noche
30 1 1 * * /ruta/mensual.sh         # Primer día del mes a la 1:30 AM

# Listar trabajos cron
crontab -l

# Eliminar todos los trabajos cron
crontab -r
Systemd Timers (alternativa moderna)
bash
# Crear servicio
sudo nano /etc/systemd/system/mi-servicio.service
# [Unit]
# Description=Mi servicio
# 
# [Service]
# ExecStart=/ruta/script.sh
# 
# [Install]
# WantedBy=multi-user.target

# Crear timer
sudo nano /etc/systemd/system/mi-timer.timer
# [Unit]
# Description=Ejecuta mi servicio periódicamente
# 
# [Timer]
# OnCalendar=daily
# Persistent=true
# 
# [Install]
# WantedBy=timers.target

# Activar
sudo systemctl enable mi-timer.timer
sudo systemctl start mi-timer.timer
Alias Personalizados
bash
# Crear alias temporales
alias ll='ls -la'
alias update='sudo apt update && sudo apt upgrade -y'
alias cls='clear'

# Alias permanentes (agregar a ~/.bashrc)
nano ~/.bashrc
# Agregar:
alias ll='ls -la'
alias grep='grep --color=auto'
alias rm='rm -i'  # Preguntar antes de borrar
alias cp='cp -i'
alias mv='mv -i'

# Recargar
source ~/.bashrc

# Listar alias
alias

# Eliminar alias
unalias ll
13. Configuración de Red y Tiempo
Configurar Hora del Sistema
bash
# Ver hora actual
date
timedatectl

# Configurar zona horaria
sudo timedatectl set-timezone America/Bogota
sudo dpkg-reconfigure tzdata

# Configurar NTP (Network Time Protocol)
sudo apt install ntp
sudo systemctl enable ntp
sudo systemctl start ntp

# Configurar servidores NTP
sudo nano /etc/ntp.conf
# Agregar servidores de tu región:
# server 0.co.pool.ntp.org
# server 1.co.pool.ntp.org
# server 2.co.pool.ntp.org
# server 3.co.pool.ntp.org

# Reiniciar servicio
sudo systemctl restart ntp

# Sincronizar manualmente
sudo ntpdate -s pool.ntp.org
Comandos de Red
bash
# Información de red
ip a                    # Direcciones IP
ip route               # Tabla de rutas
hostname               # Nombre del equipo
hostname -I            # Dirección IP

# Configurar red temporalmente
sudo ip addr add 192.168.1.100/24 dev eth0
sudo ip link set eth0 up

# DNS
cat /etc/resolv.conf    # Servidores DNS
nslookup google.com     # Consulta DNS
dig google.com          # Información DNS detallada

# Conectividad
ping google.com
ping -c 4 google.com   # 4 paquetes
traceroute google.com
mtr google.com         # Traceroute mejorado

# Puertos y conexiones
netstat -tulpn         # Puertos escuchando
ss -tulpn              # Alternativa moderna
lsof -i :80            # Qué proceso usa puerto 80
Script de Post-Instalación Automatizado
bash
#!/bin/bash
# ubuntu-postinstall.sh

set -e

# Colores
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m'

log_info() { echo -e "${BLUE}[INFO]${NC} $1"; }
log_success() { echo -e "${GREEN}[OK]${NC} $1"; }
log_warning() { echo -e "${YELLOW}[WARN]${NC} $1"; }
log_error() { echo -e "${RED}[ERROR]${NC} $1"; }

# Verificar root
if [ "$EUID" -ne 0 ]; then 
    log_error "Ejecutar como: sudo $0"
    exit 1
fi

log_info "=== CONFIGURACIÓN POST-INSTALACIÓN UBUNTU ==="

# 1. Actualizar sistema
log_info "Actualizando sistema..."
apt update && apt upgrade -y
apt install -y ubuntu-restricted-extras
log_success "Sistema actualizado"

# 2. Instalar herramientas esenciales
log_info "Instalando herramientas..."
apt install -y \
    git vim curl wget htop neofetch \
    build-essential software-properties-common \
    gnome-tweaks gnome-shell-extensions \
    gparted timeshift
log_success "Herramientas instaladas"

# 3. Configurar repositorios
log_info "Configurando repositorios..."
add-apt-repository -y universe
add-apt-repository -y multiverse
apt update
log_success "Repositorios configurados"

# 4. Instalar software común
log_info "Instalando software de productividad..."
apt install -y \
    libreoffice thunderbird \
    vlc gimp inkscape \
    filezilla remmina \
    keepassxc flameshot
log_success "Software instalado"

# 5. Instalar desarrollo
log_info "Instalando herramientas de desarrollo..."
apt install -y \
    python3 python3-pip python3-venv \
    nodejs npm \
    default-jdk \
    mysql-server \
    postgresql \
    docker.io docker-compose
log_success "Herramientas de desarrollo instaladas"

# 6. Configurar snap
log_info "Configurando Snap..."
snap install code --classic
snap install spotify
snap install slack --classic
snap install teams
log_success "Snap configurado"

# 7. Configurar firewall
log_info "Configurando firewall..."
ufw default deny incoming
ufw default allow outgoing
ufw allow ssh
ufw allow 80/tcp
ufw allow 443/tcp
ufw --force enable
log_success "Firewall configurado"

# 8. Configurar hora
log_info "Configurando hora..."
timedatectl set-timezone America/Bogota
apt install -y ntp
systemctl enable ntp
log_success "Hora configurada"

# 9. Limpieza final
log_info "Realizando limpieza..."
apt autoremove -y
apt autoclean
log_success "Limpieza completada"

# 10. Mostrar información
log_info "Mostrando información del sistema..."
neofetch

log_success "=== CONFIGURACIÓN COMPLETADA ==="
echo
echo "Recomendaciones:"
echo "1. Reiniciar el sistema"
echo "2. Configurar backups con Timeshift"
echo "3. Personalizar GNOME con Tweaks"
echo "4. Configurar ssh keys para Git"